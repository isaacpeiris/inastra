<% include ./partials/head %>

<link rel="stylesheet" href="/stylesheets/blog.css">
<script src="/javascripts/blog.js"></script>

<% include ./partials/head-bottom %>
<% include ./components/nav %>
<main>
    <section id="hero">
        <div class="hero-content">
            <h1>Blog</h1>
        </div>
    </section>
    <% if(posts.length > 0) { %>
    <section id="posts" class="main">
        <div class="container">
            <% posts.forEach(post => { %>
            <a class="post" id="<%= post.id %>" href="/blog/p/<%= post.id %>">
                <span class="img" style="background-image: url(<%= post.thumbnail %>);"></span>
                <div class="content">
                    <h3 class="title"><%= post.title %></h3>
                    <p class="author"><%= post.author %></p>
                    <div class="tags">
                        <% post.categories.forEach(cat => { %>
                        <span class="post-tag"><%= cat %></span>
                        <% }) %>
                    </div>
                </div>
            </a>
            <% }) %>
        </div>
    </section>
    <% } else { %>
    <section class="main" id="no-posts">
        <div class="container">
            <p>Unfortunately there's no blog posts here yet!</p>
            <p>Check back later for new content.</p>
        </div>
    </section>
    <% } %>
</main>

<div id="particle-js"></div>

<% include ./components/footer %>